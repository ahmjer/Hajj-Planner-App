# ... (ุงูููุฏ ุงูุณุงุจู ุจุฏูู ุชุบููุฑ)

# -------------------------------------------------------------------
# ุชูููุฐ ุงูุญุณุงุจุงุช ูุงูุชูุฒูุน
# -------------------------------------------------------------------

st.markdown("---")
calculate_button = st.button(f"๐ ุงุถุบุท ููุง ูุญุณุงุจ ูุนุฑุถ ุงุญุชูุงุฌ {department_type_choice}", type="primary")

if calculate_button: 
    
    # ******* ุณุทุฑ ุงูุชุชุจุน ุงูุฌุฏูุฏ (1) *******
    st.success("โ ุชู ุงูุถุบุท ุนูู ุงูุฒุฑ. ุฌุงุฑู ุงูุญุณุงุจ...") 

    all_results = []
    total_staff_needed = 0
    # ... (ุจููุฉ ุงูููุฏ)

    # ุฃ. ุญุณุงุจ ุงูุฅุฏุงุฑุงุช ุงููุนุชูุฏุฉ ุนูู ุงูุชุบุทูุฉ (ุญุงุฌ / ููุธู)
    for dept, ratio in ratios.items():
        res_basic = calculate_ratio_based_staff(num_hajjaj, ratio, 0) 
        staff_breakdown = distribute_staff(res_basic['Basic'], ratio_supervisor, ratio_assistant_head, ratio_head)
        # ... (ุจููุฉ ุงูุญุณุงุจุงุช ููุง ูู)
        # ...

    # ุฌ. ุญุณุงุจ ุงูุฅุฏุงุฑุงุช ุงููุนุชูุฏุฉ ุนูู ุงูุฒูู (Time-based)
    # ...

    # ******* ุณุทุฑ ุงูุชุชุจุน ุงูุฌุฏูุฏ (2) *******
    st.info("๐ ุงูุชููุช ุงูุญุณุงุจุงุช. ุฌุงุฑู ุนุฑุถ ุงููุชุงุฆุฌ.") 
    
    # -------------------------------------------------------------------
    # ุนุฑุถ ุงููุชุงุฆุฌ
    # -------------------------------------------------------------------
    
    st.subheader(f"ูุชุงุฆุฌ ุงูุงุญุชูุงุฌ ููููู ุงูุนุงููุฉ ูุงูุชูุฒูุน ุงููุธููู ูู {department_type_choice}")
    # ... (ุจููุฉ ููุฏ ุงูุนุฑุถ ููุง ูู)
    
else:
    st.info(f"ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงูุฅุฏุงุฑุฉ ูุชุนุฏูู ุงููุนุงููุฑ ูู ุงูุดุฑูุท ุงูุฌุงูุจู ุซู ุงูููุฑ ุนูู ุฒุฑ ุงูุญุณุงุจ ูุฑุคูุฉ ุงููุชุงุฆุฌ ูู {department_type_choice}.")
